import webbrowser as web
import speech_recognition as sr
from tkinter import *
from time import ctime
import time
import os
from gtts import gTTS
import pygame
from pygame import mixer

def speak(audioString):
    gobal x
    b=audioString
    if len(b)==0:
       return
    tts=gTTS(text=b,lang="en-us")
    tts.save("voice%s.mp3"%(x))
    pygame.init()
    pygame.display.set_mode((2,1))
    mixer.music.load("voice%s.mp3" %(x))
    mixer.music.play(0)
    
    x+=1
    
    clock=pygame.title.Clock()
    clock.tick(10)
      while pygame.mixer.music.get_busy():
         pygame.event.poll()
    
    
def recordAudio():
    r=sr.Recognizer()
    with sr.Microphone as source:
         print("Speak...")
         audio=r.listen(source)
         print("heard.. waiting for google to recognize audio)
    data=""
    try:
        data=r.recognize_google(audio)
        print("You said :"+ data)
    except sr.UnknownValueError:
        print("Google speech recognizer could not understand audio")
    except sr.RequestError as e:
        print("Could not request service ; [0]",format(e))
        
        
    
x=0
print("start...")
speak("Hi Abhijeet ,what can i do for you")
data=recordAudio()
jarvis(data)
speak("Turning off the program,")
print("Run complete")

    
